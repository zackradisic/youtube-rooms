<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>YouTube Rooms</title>
  <meta name="description" content="Watch YouTube videos with friends in sync">
  <meta name="author" content="Zack Radisic">

</head>

<body>
    <h1>hi</h1>
</body>

<script type="text/javascript">
  window.onload = () => {
    
    if (window["WebSocket"]) {
      const con = new WebSocket('ws://localhost:3000/ws?roomName=zack%27s%20room&roomPassword=test123')

      con.onopen = () => {
        console.log('WebSocket connection opened')
      }
      
      con.onmessage = evt => {
        console.log(evt.data)
      }

      const sample = JSON.stringify({ action: 'select-video', data: 'https://www.youtube.com/watch?v=rWBSMsLG8po' })
      setTimeout(() => con.send(sample), 3000)
    }
  }
</script>
</html>